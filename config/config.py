# ===================================================================
# 1. 全局设置 (Global Settings)
# ===================================================================

SAMPLING_RATE = 20000  # 采样率 (Hz)
EPOCH_T_MIN = -0.5     # 切片时，事件前的开始时间 (秒)
EPOCH_T_MAX = 1.5      # 切片时，事件后的结束时间 (秒)

# ===================================================================
# 2. 目录设置 (Directory Settings)
# ===================================================================

# 原始数据根目录
RAW_DATA_DIR = 'd:\\yangkeyin\\datasets\\251010清华数据分析\\acute'

# 处理后的数据输出目录
PROCESSED_DATA_DIR = './data/fif_data'

# ===================================================================
# 3. 事件定义 (Event Definitions)
#    - 'visual' 范式: 固定触发时间点，所有被试共用
#    - 'beard' 范式: 每个被试独立的 [开始, 结束] 时间对
# ===================================================================

EVENTS_CONFIG = {
    'visual': {        # 'type' 告诉主程序，这个范式的事件应该如何获取
        'type': 'extract_from_rhd', 
        # 可以指定用哪个数字通道，如果你的 extractor 支持的话
        'digital_channel_index': 1 
    },
    'beard_slow': {
        'type': 'defined_in_config', # 显式声明这是在config里定义的
        'mouse1': [60.0, 180.0, 300.0, 420.0, 540.0],  # 慢刺激触发时间点
        'mouse2': [120.0, 240.0, 360.0, 480.0, 600.0],  # 慢刺激触发时间点
        'mouse3': [120.0, 240.0, 360.0, 480.0, 600.0]  # 慢刺激触发时间点
    },
    'beard_fast': {
        'type': 'defined_in_config', # 显式声明这是在config里定义的
        'mouse1': [60.0, 180.0, 300.0, 420.0, 540.0],  # 快刺激触发时间点
        'mouse2': [180.0, 300.0, 420.0],  # 快刺激触发时间点
        'mouse3': [120.0, 240.0, 360.0, 480.0, 600.0]  # 快刺激触发时间点
    }
}

# ===================================================================
# 4. MNE 事件ID映射 (Event ID Mapping)
#    这有助于在后续分析中区分不同事件
# ===================================================================

EVENT_IDS = {
    'visual': 1,
    'beard_slow': 2,
    'beard_fast': 3
}

# ===================================================================
# 5. 被试映射 (Subject Mapping)
#    将文件夹名称映射到标准化的被试ID
# ===================================================================

SUBJECT_MAPPING = {
    '20250612': 'mouse1',
    '20250701': 'mouse2',
    '20250702': 'mouse3'
}

# ===================================================================
# 6. 文件命名规则 (File Naming Conventions)
# ===================================================================

# 原始数据文件后缀
RHD_FILE_EXTENSION = '.rhd'

# 输出FIF文件后缀
FIF_FILE_SUFFIX = '_raw.fif'

# 输出事件文件后缀
EVENTS_FILE_SUFFIX = '_events.tsv'

# ===================================================================
# 7. MNE 通道设置 (MNE Channel Settings)
# ===================================================================

# 默认通道类型
DEFAULT_CHANNEL_TYPE = 'eeg'

# ===================================================================
# 8. 处理设置 (Processing Settings)
# ===================================================================

# 是否覆盖已存在的文件
OVERWRITE_EXISTING = True

# 是否显示进度信息
VERBOSE = True

# ===================================================================
# 预处理设置 (Preprocessing Settings)
# ===================================================================

# 陷波滤波频率 (Hz)
NOTCH_FREQS = [50, 100, 150]

# 带通滤波频率范围 (Hz)
BANDPASS_L_FREQ = 0.5
BANDPASS_H_FREQ = 200

# 降采样频率 (Hz)
RESAMPLE_FREQ = 500